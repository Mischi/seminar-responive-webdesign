@import "compass/css3/transition";
@import "compass/css3/transform";

@import "shared";
@import "sections/home-workflow";


#home #intro p, #home h2{
	text-align: center;
	color: $darkgrey;
}


#outro {
	text-align: center;
	padding: 2em 0;
	margin-top: 100%;
	visibility: hidden;


	a {
		text-decoration: none;
		color: $bagred;

		&:hover, &:active {
			text-decoration: none;
		}
	}
}

/*****************************************************************
 * WIDTH QUERIES												 *
 *****************************************************************/

@media (max-width: 1024px) {
	#home {
		height: $containerHeight;
		overflow: hidden;

		#intro p, h2 {
			font-size: 4vh;
		}

		& > header {
			min-height: $containerHeight; 
			position: relative;
			padding: 4em 15px 5em 15px !important;

			overflow: hidden;

			.step {
				
			}

			.step0 {
				position: absolute;
				width: 90vw;
				top: 40vh;
				font-size: 5vh;

				text-align: center;

				-webkit-animation: zoomInFallOut 3.8s ease-out forwards;
				animation: zoomInFallOut 3.8s ease-out forwards;

				-webkit-animation-delay: 0s;
				animation-delay: 0s;
			}

			.step1 {
				position: absolute;
				width: 90vw;
				font-size: 5vh;	
				top: -5vh;//-3.5em;

				text-align: center;

				-webkit-animation: 
					fallInWelcomeV 1.1s ease-in 2.5s forwards,
					fadeOut 0.5s ease-in 6.5s forwards;
				animation: 
					fallInWelcomeV 1.1s ease-in 2.5s forwards,
					fadeOut 0.5s ease-in 6.5s forwards;
			}

			.step2 {
				position: absolute;
				height: 15vh;
				width: 40vw;
				top: -15vh;

				left: 20vw;
				background-image: url(../images/bag-logo.png);
				background-repeat: no-repeat;
				background-size: contain;
				background-position: center;

				-webkit-animation: fallInBAGV 1.1s ease-in 2.1s forwards;
				animation: fallInBAGV 1.1s ease-in 2.1s forwards;
			}

			.step3 {
				position: absolute;

				height: 10vh;
				width: 30vw;
				top: -15vh;
				left: 45vw;
				background-image: url(../images/labs-logo.png);
				background-repeat: no-repeat;
				background-size: contain;
				background-position: center;

				-webkit-animation: fallInBAGV 1.1s ease-in 2.3s forwards;
				animation: fallInBAGV 1.1s ease-in 2.3s forwards;
			}

			.logo {
				-webkit-animation: scaleLogoToBgV 1s ease-in-out 6.5s forwards;
				animation: scaleLogoToBgV 1s ease-in-out 6.5s forwards;				
			}

			#outro { 
				-webkit-animation: slideOutroUp 2.5s ease-in-out 25s forwards;
				animation: slideOutroUp 2.5s ease-in-out 25s forwards;

				a {
					line-height: 1vh;
					font-size: 2.5vh;
				}
			}
		}
	}
}

@media (min-width: 650px) and (max-width: 1024px) {
	#home {

		#intro p, h2 {
			margin-top: 1.3em;
			font-size: 5vh;
		}

		.step2 {
			height: 20vh !important;
			width: 20vw !important;
			top: -25vh !important;
			left: 32vw !important;
		}

		.step3 {
			height: 15vh !important;
			width: 30vw !important;
			top: -25vh !important;
			left: 39vw !important;
		}
	}
}

@media (min-width: 1024px) {
	#home {
		height: $containerHeight;
		overflow: hidden;

		& > header {
			@include centered;
			min-height: $containerHeight; 
			position: relative;

			overflow: hidden;

			#intro p, h2 {
				font-size: 3em;
			}

			#outro {
				-webkit-animation: slideOutroUp 2.5s ease-in-out 29s forwards;
				animation: slideOutroUp 2.5s ease-in-out 29s forwards;

				a {
					font-weight: bold;
					line-height: 2em;
					font-size: 1.2em;
				}
			}
		
			.step0 {
				position: absolute;
				top: 50%;
				width: 100%;

				margin-top: -1.5em;

				-webkit-animation: zoomInFallOut 4s ease-out forwards;
				animation: zoomInFallOut 4s ease-out forwards;

				-webkit-animation-delay: 0s;
				animation-delay: 0s;
			}

			.logo {
				position: absolute;
				top: 50%;
				width: 100%;

				-webkit-animation: scaleLogoToBg 1s ease-in-out 6.5s forwards;
				animation: scaleLogoToBg 1s ease-in-out 6.5s forwards;				
			}

			.step2 {
				height: 164px;

				margin-top: -100%;//-82px;
				margin-left: -110px;

				background-image: url(../images/bag-logo.png);
				background-repeat: no-repeat;
				background-size: contain;
				background-position: center;

				-webkit-animation: fallInBAG 1.1s ease-in 2.1s forwards;
				animation: fallInBAG 1.1s ease-in 2.1s forwards;
			}

			.step3 {
				height: 125px;

				margin-top: -100%; //-75px
				margin-left: 183px;

				background-image: url(../images/labs-logo.png);
				background-repeat: no-repeat;
				background-size: contain;
				background-position: center;

				-webkit-animation: fallInLabs 1.1s ease-in 2.3s forwards;
				animation: fallInLabs 1.1s ease-in 2.3s forwards;
			}

			.step1 {
				position: absolute;
				top: 50%;
				width: 100%;

				margin-top: -100%;//-3.5em;

				-webkit-animation: 
					fallInWelcome 1.1s ease-in 2.5s forwards,
					fadeOut 0.5s ease-in 6.5s forwards;
				animation: 
					fallInWelcome 1.1s ease-in 2.5s forwards,
					fadeOut 0.5s ease-in 6.5s forwards;
			}
		}
	}
}


/*****************************************************************
 * HEIGHT QUERIES 												 *
 *****************************************************************/

@media (max-height: 900px) {
	#home > header { 
		padding: 75px 20px 100px 20px; 

		#outro { padding: 0; }
	}
	
	#workflow h2 {  margin-bottom: 1em; }
}

@media (min-height: 900px) and (max-height: 1089px) { 
	#home > header { padding: 150px 20px 100px 20px; }	
}


@media (min-height: 1090px) {
	#workflow h2 { margin-top: 4em; }
}


/*****************************************************************
 * ANIMATIONS												 	 *
 *****************************************************************/

@-webkit-keyframes zoomInFallOut {
	0% {
		opacity: 0.7;
		@include transform(scale(0.3));
	}
	25%, 75% {
		opacity: 1;
		@include transform(scale(1));
	}
	100% {
		opacity: 1;
		@include translateY(1000px);
	}
}

@keyframes zoomInFallOut {
	0% {
		opacity: 0.7;
		@include transform(scale(0.3));
	}
	25%, 75% {
		opacity: 1;
		@include transform(scale(1));
	}
	100% {
		opacity: 1;
		@include translateY(1000px);
	}
}


@-webkit-keyframes fallInBAG {
	to {
		margin-top: -82px;
	}
}

@keyframes fallInBAG {
	to {
		margin-top: -82px;
	}
}


@-webkit-keyframes fallInLabs {
	to {
		margin-top: -165px;
	}
}

@keyframes fallInLabs {
	to {
		margin-top: -165px;
	}
}


@-webkit-keyframes fallInWelcome {
	to {
		margin-top: -3.5em;
	}
}

@keyframes fallInWelcome {
	to {
		margin-top: -3.5em;
	}
}


@-webkit-keyframes fadeOut {
	to {
		opacity: 0;
	}
}

@keyframes fadeOut {
	to {
		opacity: 0;
	}
}


@-webkit-keyframes scaleLogoToBg {
	to {
		top: 60%;
		opacity: 0;
		@include scale(3);
	}
}

@keyframes scaleLogoToBg {
	to {
		top: 60%;
		opacity: 0;
		@include scale(3);
	}
}


@-webkit-keyframes slideOutroUp {
	to {
		visibility: visible;
		margin-top: 0;
	}
}

@keyframes slideOutroUp {
	to {
		visibility: visible;
		margin-top: 0;
	}
}




/*****************************************************************
 * VIEW PORT HEIGHT / WIDTH BASED ANIMATIONS                     *
 *****************************************************************/



@-webkit-keyframes fallInWelcomeV {
	to {
		top: 45vh;
	}
}

@keyframes fallInWelcomeV {
	to {
		top: 45vh;
	}
}

@-webkit-keyframes fallInBAGV {
	to {
		top: 53vh;
	}
}

@keyframes fallInBAGV {
	to {
		top: 53vh;
	}
}


@-webkit-keyframes scaleLogoToBgV {
	to {
		opacity: 0;
		@include scale(3);
	}
}

@keyframes scaleLogoToBgV {
	to {
		opacity: 0;
		@include scale(3);
	}
}