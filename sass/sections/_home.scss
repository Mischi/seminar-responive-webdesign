@import "compass/css3/transition";
@import "compass/css3/transform";

@import "shared";
@import "sections/home-workflow";

#home {
	height: $containerHeight;
	overflow: hidden;

	& > header { 
		@include centered;
		min-height: $containerHeight; 
		position: relative;

		overflow: hidden;

		padding: 150px 20px 100px 20px;	

		#intro p, h2 {
			font-size: 3em;
			text-align: center;
			color: $darkgrey;
		}

		#outro {
			text-align: center;
			padding: 2em 0;
			margin-top: 100%;
			visibility: hidden;
			-webkit-animation: slideOutroUp 2.5s ease-in-out 29s forwards;
			animation: slideOutroUp 2.5s ease-in-out 29s forwards;


			a {
				font-weight: bold;
				line-height: 2em;
				font-size: 1.2em;
				text-decoration: none;
				color: $bagred;

				&:hover, &:active {
					text-decoration: none;
				}
			}
		}
	
		.step0 {
			position: absolute;
			top: 50%;
			width: 100%;

			margin-top: -1.5em;

			-webkit-animation: zoomInFallOut 4s ease-out forwards;
			animation: zoomInFallOut 4s ease-out forwards;

			-webkit-animation-delay: 0s;
			animation-delay: 0s;
		}

		.logo {
			position: absolute;
			top: 50%;
			width: 100%;

			-webkit-animation: scaleLogoToBg 1s ease-in-out 6.5s forwards;
			animation: scaleLogoToBg 1s ease-in-out 6.5s forwards;				
		}

		.step2 {
			height: 164px;

			margin-top: -100%;//-82px;
			margin-left: -110px;

			background-image: url(../images/bag-logo.png);
			background-repeat: no-repeat;
			background-size: contain;
			background-position: center;

			-webkit-animation: fallInBAG 1.1s ease-in 2.1s forwards;
			animation: fallInBAG 1.1s ease-in 2.1s forwards;
		}

		.step3 {
			height: 125px;

			margin-top: -100%; //-75px
			margin-left: 183px;

			background-image: url(../images/labs-logo.png);
			background-repeat: no-repeat;
			background-size: contain;
			background-position: center;

			-webkit-animation: fallInLabs 1.1s ease-in 2.3s forwards;
			animation: fallInLabs 1.1s ease-in 2.3s forwards;
		}

		.step1 {
			position: absolute;
			top: 50%;
			width: 100%;

			margin-top: -100%;//-3.5em;

			-webkit-animation: 
				fallInWelcome 1.1s ease-in 2.5s forwards,
				fadeOut 0.5s ease-in 6.5s forwards;
			animation: 
				fallInWelcome 1.1s ease-in 2.5s forwards,
				fadeOut 0.5s ease-in 6.5s forwards;
		}
	}
}

@-webkit-keyframes zoomInFallOut {
	0% {
		opacity: 0.7;
		@include transform(scale(0.3));
	}
	25%, 75% {
		opacity: 1;
		@include transform(scale(1));
	}
	100% {
		opacity: 1;
		@include translateY(1000px);
	}
}

@keyframes zoomInFallOut {
	0% {
		opacity: 0.7;
		@include transform(scale(0.3));
	}
	25%, 75% {
		opacity: 1;
		@include transform(scale(1));
	}
	100% {
		opacity: 1;
		@include translateY(1000px);
	}
}


@-webkit-keyframes fallInBAG {
	to {
		margin-top: -82px;
	}
}

@keyframes fallInBAG {
	to {
		margin-top: -82px;
	}
}


@-webkit-keyframes fallInLabs {
	to {
		margin-top: -165px;
	}
}

@keyframes fallInLabs {
	to {
		margin-top: -165px;
	}
}


@-webkit-keyframes fallInWelcome {
	to {
		margin-top: -3.5em;
	}
}

@keyframes fallInWelcome {
	to {
		margin-top: -3.5em;
	}
}


@-webkit-keyframes fadeOut {
	to {
		opacity: 0;
	}
}

@keyframes fadeOut {
	to {
		opacity: 0;
	}
}


@-webkit-keyframes scaleLogoToBg {
	to {
		top: 60%;
		opacity: 0;
		@include scale(3);
	}
}

@keyframes scaleLogoToBg {
	to {
		top: 60%;
		opacity: 0;
		@include scale(3);
	}
}


@-webkit-keyframes slideOutroUp {
	to {
		visibility: visible;
		margin-top: 0;
	}
}

@keyframes slideOutroUp {
	to {
		visibility: visible;
		margin-top: 0;
	}
}